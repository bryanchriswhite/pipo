// **Github:** https://github.com/teambition/gulp-ejs-template
//
// **License:** MIT
/* global module, define, setImmediate, window */

;(function(root, factory) {
  'use strict';

  if (typeof module === 'object' && module.exports) module.exports = factory();
  else if (typeof define === 'function' && define.amd) define([], factory);
  else root.client = factory();
}(typeof window === 'object' ? window : this, function() {
  'use strict';
  var templates = {};

  templates['client']  = templates['client.ejs'] = function(it) {
    var locals = it, __output = "";
    ;__output += "<!doctype html>\n<html>\n  <head>\n    <title>PiPo</title>\n  </head>\n  <body>\n    <div id=\"mainContainer\">\n      <ul id=\"chat\" class=\"chat-window\">\n      </ul>\n\n      <header class=\"chat-header\" id=\"header-wrapper\">\n        <div id=\"header\">\n          <div class=\"chat-header__avatar \">\n            <i class=\"huge comments outline icon\"></i>\n          </div>\n        <div class=\"chat-header__buttons\">\n          <div class=\"chat-header__favorite\">\n            <i class=\"empty star icon\"></i>\n          </div>\n          <div class=\"chat-header__settings\">\n\n            <div class=\"ui icon top left pointing dropdown button\">\n              <i class=\"wrench icon\"></i>\n              <div class=\"menu\">\n                <div class=\"header\">Room Options</div>\n                <div class=\"item room-options manage-members\">Manage Members</div>\n                <div class=\"item room-options edit-room\">Edit Room</div>\n                <div class=\"ui divider\"></div>\n                <div class=\"item\">\n                  <i class=\"dropdown icon\"></i>\n                  <span class=\"text\">Advanced</span>\n                  <div class=\"menu\">\n                    <div class=\"item\">\n                      <i class=\"check icon\"></i>\n                      Something Advanced\n                    </div>\n                  </div>\n                </div>\n                <div class=\"item\">\n                  <i class=\"dropdown icon\"></i>\n                  <span class=\"text\">Admin</span>\n                  <div class=\"menu\">\n                    <div class=\"item\">\n                      <i class=\"check icon\"></i>\n                      Destroy History\n                    </div>\n                    <div class=\"item\">\n                      <i class=\"check icon\"></i>\n                      Delete Room\n                    </div>\n                  </div>\n                </div>\n                <div class=\"item room-options leave-room\">Leave Room</div>\n                <div class=\"item\">Help</div>\n              </div>\n            </div>\n\n          </div>\n          </div>\n          <div class=\"chat-header__content\">\n            <h2 class=\"js-chat-name\" title=\"\" data-original-title=\"\">\n              <a class=\"chat-header__title\" target=\"_blank\">...</a>\n            </h2>\n            <p class=\"chat-topic\">...</p>\n          </div>\n        </div>\n      </header>\n\n      <div id=\"menu\">\n        <div id=\"left-menu-profile\">\n          <div id=\"menu-header-profile\">\n            <div class=\"ui labeled dropdown header-profile-dropdown\">\n              <div class=\"trpDisplayPicture avatar-s avatar\" style=\"\" data-original-title=\"\"> </div>\n              <span class=\"text username\">Unauthenticated</span>\n              <i class=\"chevron down icon\"></i>\n              <div id=\"options-menu-dropdown\" class=\"menu\">\n                <div id=\"edit-profile-button\" class=\"item\"><i class=\"edit icon\"></i> Edit Profile</div>\n                <div id=\"generate-keypair-button\" class=\"item\"><i class=\"spy icon\"></i> Generate new client key pair</div>\n                <div id=\"import-keypair-button\" class=\"item\"><i class=\"folder open icon\"></i> Import existing key pair</div>\n                <div id=\"export-keypair-button\" class=\"item\"><i class=\"download icon\"></i> Export client key pair</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div id=\"left-menu-scroll\">\n          <div class=\"room-list-container\">\n            <h5 class=\"room-list-header\">Active Rooms</h5>\n            <i id=\"room-list-button\" class=\"menu-icon search icon\"></i>\n            <i id=\"add-room-button\" class=\"add-room-icon plus square outline icon\"></i>\n            <ul id=\"room-list\">\n            </ul>\n          </div>\n          <div class=\"chat-list-container\">\n            <h5 class=\"chat-list-header\">Private Chats</h5>\n            <i class=\"menu-icon search icon\"></i>\n            <i class=\"add-user-icon plus square outline icon\"></i>\n            <div id=\"chat-list\">\n            </div>\n          </div>\n          <div id=\"menu-actions\">\n          </div>\n        </div>\n      </div>\n\n      <div id=\"right-menu-container\" class=\"right-menu-container\">\n        <header id=\"right-menu-header-wrapper\" class=\"right-menu-header-wrapper\">\n\n        </header>\n        <div class=\"user-list-container\">\n          <div id=\"user-list\">\n          </div>\n        </div>\n\n        <div id=\"right-menu-content-wrapper\" class=\"right-menu-content-wrapper\">\n          <div id=\"right-menu-user-actions\" class=\"right-menu-user-actions\">\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"input-container\" id=\"input-container\">\n      <form id=\"message-input-form\">\n        <div id=\"message-input-container\" class=\"ui left fluid action icon input loading\">\n          <textarea id=\"message-input\" class=\"message-input ui left icon loading\" autocorrect=\"off\" spellcheck=\"true\" autocomplete=\"off\" type=\"text\" placeholder=\"          Please wait while your secure connection is configured...\"></textarea>\n          <i id=\"loading-icon\" class=\"search icon\"></i>\n          <button id=\"send-button\" class=\"ui button\" disabled=\"true\">Send</button>\n        </div>\n      </form>\n    </div>\n\n    <div class=\"ui form basic modal password-prompt-modal\">\n      <i class=\"close icon\"></i>\n      <div class=\"header\">\n        Decrypt Master Key\n      </div>\n      <div class=\"ui\">\n        <div class=\"description\">\n          <p>Please enter your client key password...</p>\n        </div>\n        <div class=\"ui input\">\n            <input name=\"keyPassword\" type=\"password\" placeholder=\"password\"></input>\n        </div>\n      </div>\n      <div class=\"actions\">\n        <div class=\"two fluid ui inverted buttons\">\n          <div class=\"ui red basic inverted button\">\n            <i class=\"remove icon\"></i>\n            Cancel\n          </div>\n          <div class=\"ui green basic inverted button password-submit-button\">\n            <i class=\"checkmark icon\"></i>\n            Ok\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"ui form basic modal key-creds-modal\">\n      <i class=\"close icon\"></i>\n      <div class=\"header\">\n        Enter your key information\n      </div>\n      <div class=\"ui\">\n        <div class=\"description\">\n          <p>Username:</p>\n        </div>\n        <div class=\"ui input\">\n            <input name=\"username\" type=\"username\" placeholder=\"User Name\"></input>\n        </div>\n                  <div class=\"description\">\n          <p>Full Name:</p>\n        </div>\n        <div class=\"ui input\">\n            <input name=\"fullname\" type=\"fullname\" placeholder=\"Full Name\"></input>\n        </div>\n                  <div class=\"description\">\n          <p>Email:</p>\n        </div>\n        <div class=\"ui input\">\n            <input name=\"email\" type=\"email\" placeholder=\"Email\"></input>\n        </div>\n        <div class=\"description\">\n          <p>Please enter a strong password:</p>\n        </div>\n      </div>\n      <div class=\"actions\">\n        <div class=\"two fluid ui inverted buttons\">\n          <div class=\"ui red basic inverted button\">\n            <i class=\"remove icon\"></i>\n            Cancel\n          </div>\n          <div class=\"ui green basic inverted button key-creds-submit-button\">\n            <i class=\"checkmark icon\"></i>\n            Ok\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"ui form modal import-keypair-modal\">\n      <i class=\"close icon\"></i>\n      <div class=\"header\">\n        Import Client Key Pair\n      </div>\n      <div class=\"ui\">\n        <div class=\"description\">\n          <p>Please locate your keys...</p>\n        </div>\n        <form class=\"ui form content create\">\n          <div class=\"field\">\n            <label for=\"username\">Username</label>\n            <input type=\"text\" class=\"username-input\" id=\"username-input\">\n          </div>\n          <div class=\"ui\">\n            <a href=\"#\" id=\"select-publickey\">Public Key: </a><input type=\"file\" id=\"publickey-file-input\"></input>\n          </div>\n          <div class=\"ui\">\n            <a href=\"#\" id=\"select-privatekey\">Private Key: </a><input type=\"file\" id=\"privatekey-file-input\"></input>\n          </div>\n        </form>\n      </div>\n      <div class=\"actions\">\n        <div class=\"ui button approve red cancel\">\n          <i class=\"remove icon\"></i>\n          Cancel\n        </div>\n        <div class=\"ui button approve green import-keypair-submit-button\">\n          <i class=\"checkmark icon\"></i>\n          Ok\n        </div>\n      </div>\n    </div>\n\n    <div class=\"ui small modal initial\">\n      <div class=\"header\">Register or Sign In</div>\n      <div class=\"content\">You do not appear to have signed in from this computer before. Would you like to Register as a new user or Sign In using your existing keys?</div>\n      <div class=\"actions\">\n        <div class=\"ui button approve green register\" data-value=\"generate\">Register</div>\n        <div class=\"ui button approve blue authenticate\" data-value=\"authenticate\">Sign In</div>\n      </div>\n    </div>\n\n    <div class=\"ui small modal register\">\n      <div class=\"header\">Register</div>\n      <form class=\"ui form error segment register\">\n        <div class=\"field\">Select a username and a passphrase to encrypt your keys</div>\n        <div class=\"two fields\">\n          <div class=\"field\" style=\"display: none; color: red\" id=\"registerError\"></div>\n          <div class=\"field\">\n            <label>Username</label>\n            <input type=\"text\" name=\"username\" class=\"username\" placeholder=\"Username\">\n          </div>\n          <div class=\"field\">\n            <label>Real Name</label>\n            <input name=\"name\" type=\"text\" class=\"name\" placeholder=\"Real Name\">\n          </div>\n        </div>\n        <div class=\"field\">\n          <label>Email</label>\n          <input type=\"email\" name=\"email\" class=\"email\" placeholder=\"Email\">\n        </div>\n        <div class=\"field\">\n          <label>Password</label>\n          <input type=\"password\" name=\"registerPassword\" class=\"registerPassword\" placeholder=\"Password\">\n        </div>\n        <div class=\"field\">\n          <label>Confirm Password</label>\n          <input type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm Password\">\n        </div>\n        <div class=\"actions\">\n          <div class=\"ui green submit button\">OK</div>\n          <div class=\"ui error message\"></div>\n        </div>\n      </form>\n    </div>\n\n    <div class=\"ui small modal generate\">\n      <div class=\"header\">Generate</div>\n      <div class=\"content center\">\n        <i class=\"notched circle loading icon\"></i> Generating credentials (this may take a bit)\n      </div>\n    </div>\n\n    <div class=\"ui small modal unlock\">\n      <div class=\"header\">Unlock Credentials for <span class=\"username\">your user</span></div>\n      <form class=\"ui form error content unlock\">\n        <div class=\"field\">Enter the passphrase you selected to decrypt your keys. You will be prompted for this password once more after you submit this form to sign in.</div>\n        <div class=\"field\" style=\"display: none; color: red\" id=\"createError\"></div>\n        <div class=\"field\">\n          <label for=\"password\">Password</label>\n          <input type=\"password\" class=\"password\" id=\"password\">\n        </div>\n        <div class=\"actions\">\n          <div class=\"ui submit button green decrypt\">Decrypt</div>\n          <div class=\"ui error message\"></div>\n        </div>\n      </form>\n    </div>\n\n    <div class=\"ui small modal authenticate\">\n      <div class=\"header\">Authenticate</div>\n      <div class=\"content\">Please select your credentials</div>\n      <div class=\"actions\">\n        <div class=\"ui button approve green\" data-value=\"generate\">Generate</div>\n        <div class=\"ui button approve blue\" data-value=\"authenticate\">Authenticate</div>\n      </div>\n    </div>\n\n    <div class=\"ui small modal joinroom\">\n      <div class=\"header\">Authenticate</div>\n      <div class=\"content\">Please select your credentials</div>\n      <div class=\"actions\">\n        <div class=\"ui button approve green\" data-value=\"generate\">Generate</div>\n        <div class=\"ui button approve blue\" data-value=\"authenticate\">Authenticate</div>\n      </div>\n    </div>\n\n    <div class=\"ui small long modal join-room-list-modal\">\n      <i class=\"close icon\"></i></i>\n      <div class=\"header\">Room List</div>\n      <div class=\"content\">Select a room to join...</div>\n      <div class=\"ui list join-room-list\">\n      </div>\n    </div>\n\n    <div class=\"ui basic modal createroom\">\n      <i class=\"close icon\"></i>\n      <div class=\"header\">\n        Create a room\n      </div>\n      <div class=\"content\">\n        <form class=\"ui form createroom\">\n          <div class=\"ui segment\">\n            <p style=\"color:black;\">Please enter the information for your new room.</p>\n            <div class=\"wide field\">\n              <label>Name</label>\n              <input type=\"text\" name=\"name\">\n            </div>\n            <div class=\"wide field\">\n              <label>Topic</label>\n              <input type=\"text\" name=\"topic\">\n            </div>\n\n            <div class=\"field encryptionscheme\">\n              <label>Please choose an encryption scheme</label>\n              <input name=\"encryptionscheme\" type=\"hidden\" value=\"clientkey\">\n              <select class=\"ui search dropdown encryptionscheme\">\n                <option value=\"clientkey\">Client Key</option>\n                <option value=\"masterkey\">Master Key</option>\n              </select>\n            </div>\n\n            <div class=\"field\">\n              <label>Keep Message History</label>\n              <input name=\"messagehistory\" type=\"hidden\" value=\"keep\">\n              <select class=\"ui search dropdown messagehistory\">\n                <option value=\"keep\">Keep</option>\n                <option value=\"dontkeep\">Don't Keep</option>\n              </select>\n            </div>\n\n            <div class=\"field\">\n              <label>Membership Required</label>\n              <input name=\"membershiprequired\" type=\"hidden\" value=\"private\">\n              <select class=\"ui search dropdown membershiprequired\">\n                <option value=\"private\">Private</option>\n                <option value=\"public\">Public</option>\n              </select>\n            </div>\n\n          </div>\n          <!-- Below tag is the placeholder/container for the error messages -->\n          <div class=\"ui error message\"></div>\n        </form>\n      </div>\n      <div class=\"actions\">\n        <div class=\"two fluid ui inverted buttons\">\n          <div class=\"ui cancel red basic inverted button\">\n            <i class=\"remove icon\"></i>\n            Cancel\n          </div>\n          <div class=\"ui ok green basic inverted button\">\n            <i class=\"checkmark icon\"></i>\n            Submit\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"ui small modal error\">\n      <div class=\"header\">Error</div>\n      <div class=\"content\">Some horrible error occurred</div>\n      <div class=\"actions\">\n        <div class=\"ui button approve blue cancel\">\n          <i class=\"remove icon\"></i>\n          Ok\n        </div>\n      </div>\n    </div>\n\n    <div class=\"ui small modal profile\">\n      <div class=\"header\">Profile</div>\n      <form class=\"ui form content profile\">\n        <div class=\"field\">Enter your information</div>\n        <div class=\"field\" style=\"display: none; color: red\" id=\"createError\"></div>\n        <div class=\"field\">\n          <label for=\"username\">Username</label>\n          <input type=\"text\" class=\"username\" id=\"username\">\n        </div>\n        <div class=\"field\">\n          <label for=\"fullname\">Full Name</label>\n          <input type=\"fullname\" class=\"fullname\" id=\"fullname\">\n        </div>\n        <div class=\"field\">\n          <label for=\"email\">Email</label>\n          <input type=\"email\" class=\"email\" id=\"email\">\n        </div>\n      </form>\n      <div class=\"actions\">\n        <div class=\"ui button approve green go\" data-value=\"go\">Go</div>\n      </div>\n    </div>\n\n    <div class=\"ui popup left center transition hidden userPopup\">\n      <div class=\"userPopupAvatar\">\n          <div class=\"avatar\" style=\"float: left\"></div>\n      </div>\n      <div class=\"userPopupInfo\">\n        <div class=\"userPopupNames\">\n          <h2 class=\"fullName\">Full Name</h2>\n          <h3 class=\"username\"><a href=\"http://pipo.chat/users/username\" target=\"_blank\">username</a></h3>\n        </div>\n        <div class=\"userPopupStats\">\n          5 followers  66 repos  4 following\n        </div>\n        <div class=\"userPopupContact\">\n          <a class=\"email\" href=\"mailto:email@address.com\">email@address.com</a></div>\n          <div class=\"userPopupButtons\">\n            <button class=\"privateChatButton buttonSmall\" id=\"button-onetoone\">\n              Chat Privately\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"ui form basic modal editroom\">\n      <i class=\"close icon\"></i>\n      <div class=\"header\">\n        Editing Room\n      </div>\n      <div class=\"content\">\n        <form class=\"ui form editroom\">\n          <div class=\"ui segment\">\n            <input name=\"id\" type=\"hidden\">\n            <div class=\"wide field\">\n              <label>Name</label>\n              <input type=\"text\" name=\"name\">\n            </div>\n\n            <div class=\"wide field\">\n              <label>Group</label>\n              <input type=\"text\" name=\"group\">\n            </div>\n\n            <div class=\"wide field\">\n              <label>Topic</label>\n              <input type=\"text\" name=\"topic\">\n            </div>\n\n            <div class=\"field encryptionscheme\">\n              <label>Encryption scheme</label>\n              <input name=\"encryptionscheme\" type=\"hidden\">\n              <select class=\"ui search dropdown encryptionscheme\">\n                <option value=\"clientkey\">Client Key</option>\n                <option value=\"masterkey\">Master Key</option>\n              </select>\n            </div>\n\n            <div class=\"field\">\n              <label>Message History</label>\n              <input name=\"keep-history\" type=\"hidden\">\n              <select class=\"ui search dropdown keephistory\">\n                <option value=\"true\">Keep</option>\n                <option value=\"false\">Don't Keep</option>\n              </select>\n            </div>\n\n            <div class=\"field\">\n              <label>Privacy</label>\n              <input name=\"membership-required\" type=\"hidden\">\n              <select class=\"ui search dropdown membershiprequired\">\n                <option value=\"true\">Private</option>\n                <option value=\"false\">Public</option>\n              </select>\n            </div>\n\n          </div>\n          <!-- Below tag is the placeholder/container for the error messages -->\n          <div class=\"ui error message\"></div>\n        </form>\n      </div>\n      <div class=\"actions\">\n        <div class=\"two fluid ui inverted buttons\">\n          <div class=\"ui cancel red basic inverted button\">\n            <i class=\"remove icon\"></i>\n            Cancel\n          </div>\n          <div class=\"ui ok green basic inverted button\">\n            <i class=\"checkmark icon\"></i>\n            Save\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"ui modal manage-members-modal\">\n      <i class=\"close icon\"></i>\n      <div class=\"header\">\n        Manage Members\n      </div>\n      <div class=\"content\">\n        <input class=\"roomname\" type=\"hidden\">\n        <div class=\"field\" style=\"display: none; color: red\" id=\"manageMembersError\"></div>\n        <div class=\"field\" style=\"display: none; color: green\" id=\"manageMembersMessage\"></div>\n        <div class=\"add-member-header\">\n          Add Member\n        </div>\n        <div class=\"ui right labeled input\">\n          <div class=\"ui search\">\n            <div class=\"ui icon input\">\n              <input class=\"prompt membername\" type=\"text\" placeholder=\"Username...\">\n              <i class=\"search icon\"></i>\n            </div>\n            <div class=\"results\"></div>\n          </div>\n          <div class=\"ui dropdown label addmember\">\n            <div class=\"text\">member</div>\n            <i class=\"dropdown icon\"></i>\n            <div class=\"menu membership\">\n              <div class=\"item\">member</div>\n              <div class=\"item\">admin</div>\n              <div class=\"item\">owner</div>\n            </div>\n          </div>\n        </div>\n        <button class=\"ui primary button addmember\">\n          Add\n        </button>\n        <div class=\"manage-members-header\">\n          Members\n        </div>\n        <ul class=\"manage-members-list\">\n        </ul>\n      </div>\n      <div class=\"actions\">\n      </div>\n    </div>\n\n\n    <link rel=\"stylesheet\" href='css/google_fonts_roboto.css' type='text/css'>\n    <link rel=\"stylesheet\" href=\"css/semantic.css\">\n    <link rel=\"stylesheet\" href=\"css/pipo.css\">\n    <link rel=\"stylesheet\" href=\"css/highlight.js/styles/default.css\">\n\n    <!--<script src=\"js/lib/jquery-1.11.1.js\"></script>-->\n    <script>\n    window.$ = window.jQuery = require('jquery');\n    window.async = window.async = require('async');\n    io = require('socket.io-client');\n    </script>\n\n    <!--\n    <script>\n      try {\n        $ = jQuery = module.exports;\n        // If you want module.exports to be empty, uncomment:\n        //module.exports = {};\n      } catch(e) {}\n    </script>\n    -->\n\n    <script src=\"js/lib/openpgp.js\"></script>\n    <script src=\"js/lib/kbpgp.js\"></script>\n    <script src=\"js/lib/semantic.js\"></script>\n\n    <script src=\"js/lib/socket.io.js\"></script>\n    <script>\n      var socket = io();\n    </script>\n    <!--<script src=\"js/lib/async.js\"></script> -->\n    <script src=\"js/lib/highlight.min.js\"></script>\n    <script src=\"js/lib/moment.min.js\"></script>\n    <script src=\"js/lib/livestamp.min.js\"></script>\n    <script src=\"js/lib/marked.js\"></script>\n    <script src=\"js/lib/FileSaver.js\"></script>\n    <script src=\"js/lib/blob.js\"></script>\n    <script src=\"js/lib/jquery.pulse.js\"></script>\n\n    <!-- Load Modals -->\n    <script src=\"js/modals/registerUserPrompt.js\"></script>\n    <script src=\"js/modals/unlockClientKeyPairModal.js\"></script>\n\n    <script src=\"js/chatManager.js\"></script>\n    <script src=\"js/clientNotification.js\"></script>\n    <script src=\"js/socketClient.js\"></script>\n    <script src=\"js/encryptionManager.js\"></script>\n    <script src=\"js/authentication.js\"></script>\n    <script src=\"js/serverCommand.js\"></script>\n\n    <script>\n      hljs.initHighlightingOnLoad();\n      openpgp.initWorker('js/lib/openpgp.worker.js');\n    </script>\n\n\n  </body>\n</html>\n";
    return __output.trim();
  };

  var ejs = {
    locals: {},
    get: getTpl,
    render: render
  };
  return ejs;

  function render(tplName, data) {
    var it  = copy({}, ejs.locals);
    return getTpl(tplName)(copy(it, data));
  }

  function getTpl(tplName) {
    return templates[tplName];
  }

  function escape(markup) {
    if (!markup) return '';
    return String(markup)
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/'/g, '&#39;')
      .replace(/"/g, '&quot;');
  }

  function copy(to, from) {
    from = from || {};
    for (var key in from) to[key] = from[key];
    return to;
  }
}));
